{"name":"Backbone.viewmodel","body":"Backbone.ViewModel\r\n===\r\n\r\nA silly library to easily add a layer of viewlogic to your models.\r\nSimilar to the draper gem for ruby.\r\n\r\nI chose to write this because I like Spine's way of handling models.\r\nUsing get('attribute-name') everywhere in my viewtemplates makes me a little bit sad.\r\n\r\nI also feel that viewlogic does not belong on the model. For example determining\r\nwhat CSS class to use for the model or doing some formatting. It's neat when you\r\ncan keep your templates as clean as possible.\r\n\r\nLastly, I could miss the ball completely with this extention. Maybe Backbone doesn't need this at all. User discretion is adviced! If you feel stuff needs to change please contact me or send me a pull request.\r\n\r\nHow to wield this amazing power?\r\n---\r\nCheck the specs for some more details.\r\n\r\nBest results when using CoffeeScript.\r\n\r\nHere is a sample Model:\r\n\r\n```\r\nclass Invoice extends Backbone.Model\r\n  defaults:\r\n    subject: ''\r\n    amount: 0\r\n    amount_paid: 0\r\n\r\n  paid: ->\r\n    @amout <= @amount_paid\r\n```\r\n\r\nHere is what the template could look like:\r\n\r\n```\r\n<div class=\"invoice <%= @css_class() %>\">\r\n  <%= @subject %> - <%= @amount_in_currency() %>\r\n</div>\r\n```\r\n\r\nHere is it's ViewModel:\r\n\r\n```\r\nclass InvoiceViewModel extends Backbone.ViewModel\r\n\r\n  delegate_functions: 'paid'\r\n\r\n  css_class: ->\r\n    if @paid()\r\n      'paid'\r\n    else\r\n      'unpaid'\r\n\r\n  amount_in_currency: ->\r\n    I18n.toCurrency(@amount, {precision: 2})\r\n```\r\n\r\nAnd finally here is how to use said ViewModel for this template:\r\n\r\n```\r\ntemplate = $(@view('invoices/invoice')(new InvoiceViewModel(@model_instance)))\r\n```\r\n\r\nHow to play?\r\n---\r\n\r\nJust copy over the backbone.viewmodel.js file in your lib folder.\r\n\r\nHow to collaborate?\r\n---\r\n\r\nFork, branch & pull request.\r\n\r\nEasiest way I found to compile the coffeescript is to use [jitter](https://github.com/TrevorBurnham/Jitter).\r\n\r\nin the root folder: ```jitter lib js spec```\r\n\r\n","tagline":"A small & simple decorator library for backbone.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}